# power_timer
Цифровой таймер, ограничивающий время питания устройства.

Может использоваться для управления питанием автономных USB устройств (не требующих обмена данными с хостом).

### Принципиальная схема устройства:

![Схема](https://raw.githubusercontent.com/oinkcat/power_timer/master/PowerTimer.png)

### Описание работы устройства:

В исходном состоянии на выходе PB2 микроконтроллера U1 установлен высокий уровень, закрывающий транзистор Q1. Микроконтроллер, в ходе своей работы, проверяет состояние входа PB3, и при нажатии и отпускании кнопки SW1 запускает таймер, отсчитывающий 30-минутный интервал и устанавливает низкий уровень на PB2, заставляющий транзистор Q1 открыться и подавать питание к нагрузке. Последующие нажатия SW1 увеличивают время питания нагрузки на 30 минут.

Светодиод D1 мигает во время нажатия SW1 и каждые 15 секунд столько раз, сколько осталось 30-минутных интервалов. По истечении последних 30 минут таймер выключется, и на выходе PB2 устанавливается высокий уровень, закрывающий транзистор Q1 и отключающий питание нагрузки.
